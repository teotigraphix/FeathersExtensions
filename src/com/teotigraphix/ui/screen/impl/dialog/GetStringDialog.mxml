<?xml version="1.0"?>
<!--
  Created by Teoti on 12/6/2015.

  backgroundSkin="{AssetMap.create9ScaleImage('background-popup-shadow-skin', 8, 8, 16, 16)}"

-->
<impl:DialogScreen xmlns:fx="http://ns.adobe.com/mxml/2009"
                   xmlns:f="library://ns.feathersui.com/mxml"
                   xmlns:impl="com.teotigraphix.ui.screen.impl.*"
                   content="{stringInput}">

    <fx:Declarations>

        <f:TextInput id="stringInput"
                     prompt="{prompt}"
                     maxChars="{maxChars}"
                     restrict="a-zA-Z0-9\s"
                     styleName="{FrameworkStyleNames.THEME_TEXT_INPUT_DARK}">
            <f:layoutData>
                <f:VerticalLayoutData percentWidth="100"/>
            </f:layoutData>
        </f:TextInput>

    </fx:Declarations>

    <fx:Script><![CDATA[
        import com.teotigraphix.ui.theme.framework.FrameworkStyleNames;

        import feathers.skins.IStyleProvider;

        import org.as3commons.lang.StringUtils;

        public static var globalStyleProvider:IStyleProvider;

        override protected function get defaultStyleProvider():IStyleProvider
        {
            return GetStringDialog.globalStyleProvider;
        }

        [Bindable]
        public var prompt:String = "";

        [Bindable]
        public var maxChars:int = 10;

        override protected function okButton_triggeredHandler():void
        {
            dispatchEventWith(EVENT_OK, false, {
                value: StringUtils.trimToNull(stringInput.text) == null ?
                        stringInput.prompt : stringInput.text
            });
        }
        ]]></fx:Script>

</impl:DialogScreen>
